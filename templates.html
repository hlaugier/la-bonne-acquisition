<!DOCTYPE html>
<html lang="fr" data-fr-theme>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Bonne Acquisition - Templates</title>
    
    <!-- DSFR CSS -->
    <link rel="stylesheet" href="node_modules/@gouvfr/dsfr/dist/dsfr.min.css">
    <link rel="stylesheet" href="node_modules/@gouvfr/dsfr/dist/utility/icons/icons.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="templates.css">
</head>
<body>
    <!-- Header -->
    <header role="banner" class="fr-header">
        <div class="fr-header__body">
            <div class="fr-container">
                <div class="fr-header__body-row">
                    <div class="fr-header__brand fr-enlarge-link">
                        <div class="fr-header__brand-top">
                            <div class="fr-header__logo">
                                <p class="fr-logo">
                                    République<br>Française
                                </p>
                            </div>
                            <div class="fr-header__service">
                                <a href="/" title="La Bonne Acquisition">
                                    <p class="fr-header__service-title">La Bonne Acquisition</p>
                                </a>
                                <p class="fr-header__service-tagline">Plateforme de gestion des campagnes de recrutement</p>
                            </div>
                        </div>
                    </div>
                    <div class="fr-header__tools">
                        <div class="fr-header__tools-links">
                            <ul class="fr-btns-group">
                                <li>
                                    <button class="fr-btn fr-btn--icon-left fr-icon-add-line" onclick="openCreateTemplateModal()">
                                        Créer un template
                                    </button>
                                </li>
                                <li>
                                    <button id="theme-toggle" class="fr-btn fr-btn--tertiary-no-outline" type="button" aria-pressed="false">
                                        Basculer le thème
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main content with sidebar -->
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="fr-sidemenu" aria-label="Menu latéral">
            <div class="fr-sidemenu__inner">
                <button class="fr-sidemenu__btn" aria-controls="fr-sidemenu-wrapper" aria-expanded="false">
                    Menu
                </button>
                <div class="fr-sidemenu__wrapper" id="fr-sidemenu-wrapper">
                    <div class="fr-sidemenu__title">Navigation</div>
                    <ul class="fr-sidemenu__list">
                        <li class="fr-sidemenu__item">
                            <a class="fr-sidemenu__link" href="index.html">
                                <span class="fr-icon-dashboard-3-line fr-sidemenu__icon" aria-hidden="true"></span>
                                Dashboard
                            </a>
                        </li>
                        <li class="fr-sidemenu__item fr-sidemenu__item--active">
                            <a class="fr-sidemenu__link" href="templates.html" aria-current="page">
                                <span class="fr-icon-file-text-line fr-sidemenu__icon" aria-hidden="true"></span>
                                Templates
                            </a>
                        </li>
                        <li class="fr-sidemenu__item">
                            <a class="fr-sidemenu__link" href="#contacts">
                                <span class="fr-icon-user-line fr-sidemenu__icon" aria-hidden="true"></span>
                                Contacts
                            </a>
                        </li>
                        <li class="fr-sidemenu__item">
                            <a class="fr-sidemenu__link" href="#campaigns">
                                <span class="fr-icon-mail-line fr-sidemenu__icon" aria-hidden="true"></span>
                                Campagnes
                            </a>
                        </li>
                        <li class="fr-sidemenu__item">
                            <a class="fr-sidemenu__link" href="#analytics">
                                <span class="fr-icon-bar-chart-box-line fr-sidemenu__icon" aria-hidden="true"></span>
                                Analytiques
                            </a>
                        </li>
                        <li class="fr-sidemenu__item">
                            <a class="fr-sidemenu__link" href="#settings">
                                <span class="fr-icon-settings-5-line fr-sidemenu__icon" aria-hidden="true"></span>
                                Paramètres
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main content -->
        <main id="main" role="main" class="main-content">
            <div class="fr-container-fluid fr-py-6w">
                <!-- Page title -->
                <div class="fr-grid-row fr-grid-row--gutters fr-mb-3w">
                    <div class="fr-col-12">
                        <h1>Templates d'emails</h1>
                        <p class="fr-text--lead">Gérez vos modèles d'emails pour vos campagnes de recrutement</p>
                    </div>
                </div>

                <!-- Filters -->
                <div class="fr-grid-row fr-grid-row--gutters fr-mb-4w">
                    <div class="fr-col-12 fr-col-md-6">
                        <div class="fr-search-bar" role="search">
                            <label class="fr-label" for="search-templates">
                                Rechercher un template
                            </label>
                            <input class="fr-input" placeholder="Rechercher..." type="search" id="search-templates" name="search-templates">
                            <button class="fr-btn" type="submit">
                                Rechercher
                            </button>
                        </div>
                    </div>
                    <div class="fr-col-12 fr-col-md-3">
                        <div class="fr-select-group">
                            <label class="fr-label" for="category-filter">
                                Catégorie
                            </label>
                            <select class="fr-select" id="category-filter">
                                <option value="all">Toutes les catégories</option>
                                <option value="recruitment">Recrutement</option>
                                <option value="onboarding">Onboarding</option>
                                <option value="newsletter">Newsletter</option>
                                <option value="event">Événement</option>
                            </select>
                        </div>
                    </div>
                    <div class="fr-col-12 fr-col-md-3">
                        <div class="fr-select-group">
                            <label class="fr-label" for="sort-filter">
                                Trier par
                            </label>
                            <select class="fr-select" id="sort-filter">
                                <option value="recent">Plus récent</option>
                                <option value="name">Nom</option>
                                <option value="usage">Plus utilisé</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Templates grid -->
                <div class="templates-grid" id="templates-container">
                    <!-- Templates will be loaded here -->
                </div>
            </div>
        </main>
    </div>

    <!-- Create/Edit Template Modal -->
    <dialog id="template-modal" class="fr-modal" role="dialog" aria-labelledby="modal-title">
        <div class="fr-container fr-container--fluid fr-container-md">
            <div class="fr-grid-row fr-grid-row--center">
                <div class="fr-col-12 fr-col-md-10 fr-col-lg-8">
                    <div class="fr-modal__body">
                        <div class="fr-modal__header">
                            <button class="fr-btn--close fr-btn" onclick="closeTemplateModal()" aria-label="Fermer" aria-controls="template-modal" type="button">
                                Fermer
                            </button>
                        </div>
                        <div class="fr-modal__content">
                            <h1 id="modal-title" class="fr-modal__title">
                                Créer un nouveau template
                            </h1>
                            <form id="template-form">
                                <div class="fr-input-group">
                                    <label class="fr-label" for="template-name">
                                        Nom du template
                                    </label>
                                    <input class="fr-input" type="text" id="template-name" name="template-name" required>
                                </div>
                                
                                <div class="fr-select-group">
                                    <label class="fr-label" for="template-category">
                                        Catégorie
                                    </label>
                                    <select class="fr-select" id="template-category" name="template-category" required>
                                        <option value="">Sélectionner une catégorie</option>
                                        <option value="recruitment">Recrutement</option>
                                        <option value="onboarding">Onboarding</option>
                                        <option value="newsletter">Newsletter</option>
                                        <option value="event">Événement</option>
                                    </select>
                                </div>

                                <div class="fr-input-group">
                                    <label class="fr-label" for="template-subject">
                                        Objet de l'email
                                    </label>
                                    <input class="fr-input" type="text" id="template-subject" name="template-subject" required>
                                </div>

                                <div class="fr-input-group">
                                    <label class="fr-label" for="template-content">
                                        Contenu de l'email
                                        <span class="fr-hint-text">Utilisez {{nom}}, {{entreprise}}, etc. pour les variables</span>
                                    </label>
                                    <textarea class="fr-input" rows="15" id="template-content" name="template-content" required></textarea>
                                </div>

                                <div class="fr-btns-group fr-btns-group--right">
                                    <button type="button" class="fr-btn fr-btn--secondary" onclick="closeTemplateModal()">
                                        Annuler
                                    </button>
                                    <button type="submit" class="fr-btn">
                                        Enregistrer
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </dialog>

    <!-- App JS -->
    <script src="theme.js"></script>
    <script src="templates.js"></script>
</body>
</html>
